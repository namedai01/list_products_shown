(this["webpackJsonpteko-test"]=this["webpackJsonpteko-test"]||[]).push([[0],{146:function(e,t,n){},235:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(21),s=n.n(a),o=(n(146),n(134)),i=n(18),u=n(140),j=n(44),d=n.n(j),l=n(59),b=n(46),h=n(55),p=n(33),O=n(242),x=n(67),m=n.n(x),f=n(24),v=n.n(f),g=n(61),k=n.n(g),_=n(6);function C(e){var t=e.isModalVisible,n=void 0!==t&&t,r=e.changedProducts,c=void 0===r?[]:r,a=e.colors,s=void 0===a?[]:a,o=e.handleOk;return Object(_.jsx)(m.a,{title:"Re-Uploaded Products",visible:n,onOk:o,onCancel:o,children:Object(_.jsx)("div",{className:k.a.popupContainer,children:Object.keys(c).map((function(e,t){return Object(_.jsxs)("div",{className:k.a.div121,children:[Object(_.jsx)("div",{className:k.a.image,children:Object(_.jsx)("img",{src:c[e].image,alt:"Failure"})}),Object(_.jsxs)("div",{className:k.a.content,children:[Object(_.jsx)("span",{style:{color:"black"},children:c[e].name}),Object(_.jsxs)("span",{children:["ID: ",Object(_.jsx)("span",{children:c[e].id})]}),Object(_.jsxs)("span",{children:["SKU:"," ",Object(_.jsx)("span",{style:{color:"red"},children:c[e].sku})]}),Object(_.jsxs)("span",{children:["Color:"," ",Object(_.jsx)("span",{children:s[c[e].color]})]})]})]},"popup"+t)}))})})}C.PropTypes={isModalVisible:v.a.bool.isRequired,changedProducts:v.a.array.isRequired,colors:v.a.array.isRequired,handleOk:v.a.func.isRequired};var y=n(32),P=n.n(y);function I(e){var t=e.product,n=void 0===t?[]:t,c=e.colors,a=void 0===c?[]:c,s=e.originProduct,o=void 0===s?[]:s,i=e.index,u=void 0===i?0:i,j=e.handleChangeProduct,d=e.takeChangedProducts,l=Object(r.useState)(!1),h=Object(p.a)(l,2),O=h[0],x=h[1],m=Object(r.useState)({}),f=Object(p.a)(m,2),v=f[0],g=f[1],k=Object(r.useState)({}),C=Object(p.a)(k,2),y=C[0],I=C[1],w=function(e){j(e.target.name,e.target.value||null,u)},N=function(e){var t=Object(b.a)({},e.target.name,e.target.value||null);g(function(e){var t={};return void 0!==e.name&&(e.name?e.name.length>50&&(t.name="Name have at most 50 characters"):t.name="Cannot be blank"),void 0!==e.sku&&(e.sku?e.sku.length>20&&(t.sku="Sku have at most 20 characters"):t.sku="Cannot be blank"),t}(t)),I(t),x(!0)};return Object(r.useEffect)((function(){O&&d(o,y)}),[v]),Object(_.jsxs)("tr",{className:P.a.containerItem,children:[Object(_.jsx)("td",{children:n.id}),Object(_.jsx)("td",{children:n.errorDescription}),Object(_.jsx)("td",{children:Object(_.jsx)("img",{src:n.image,alt:"Failure"})}),Object(_.jsx)("td",{children:Object(_.jsxs)("div",{className:P.a.formRow,children:[Object(_.jsx)("input",{type:"text",value:n.name,name:"name",onChange:w,onBlur:N,className:v.name?P.a.inputError:P.a.inputCorrect}),v.name&&Object(_.jsx)("span",{className:P.a.error,children:v.name})]})}),Object(_.jsx)("td",{style:{width:"10%"},children:Object(_.jsxs)("div",{className:P.a.formRow,children:[Object(_.jsx)("input",{type:"text",value:n.sku,name:"sku",onChange:w,onBlur:N,className:v.sku?P.a.inputError:P.a.inputCorrect}),v.sku&&Object(_.jsx)("span",{className:P.a.error,children:v.sku})]})}),Object(_.jsx)("td",{children:Object(_.jsxs)("select",{value:n.color||"",name:"color",style:{color:"black"},onChange:w,onBlur:N,children:[Object(_.jsx)("option",{value:""}),Object.keys(a).map((function(e,t){return Object(_.jsx)("option",{value:e,children:a[e]},"color"+t)}))]})})]})}I.PropTypes={product:v.a.array.isRequired,colors:v.a.array.isRequired,takeChangeProducts:v.a.func.isRequired};n(217);var w=n(88),N=n.n(w),S=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("https://60ae0d5e80a61f00173324bc.mockapi.io/products");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("https://60ae0d5e80a61f00173324bc.mockapi.io/colors");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=n.p+"static/media/default.e2239d94.jpeg";function E(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(p.a)(a,2),o=s[0],i=s[1],j=Object(r.useState)({}),x=Object(p.a)(j,2),m=x[0],f=x[1],v=Object(r.useState)({}),g=Object(p.a)(v,2),k=g[0],y=g[1],w=Object(r.useState)(!1),N=Object(p.a)(w,2),E=N[0],F=N[1],L=Object(r.useState)({totalPage:0,current:1,minIndex:0,maxIndex:0}),T=Object(p.a)(L,2),B=T[0],D=T[1],M=function(e,t){var n=Object(h.a)(Object(h.a)({},k),Object(b.a)({},e.id,Object(h.a)(Object(h.a)(Object(h.a)({},e),k[e.id]),t)));y(n)};Object(r.useEffect)((function(){(function(){var e=Object(l.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return t=e.sent,c(t),i(t),D({totalPage:t.length/10,minIndex:0,maxIndex:10}),e.next=8,R();case 8:n=e.sent,r=n.reduce((function(e,t){return Object.assign(e,Object(b.a)({},t.id,t.name))}),{}),f(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var V=function(e,t,r){var a=Object(u.a)(n);a[r][e]=t,c(a)};return Object(_.jsxs)("div",{className:P.a.container,children:[Object(_.jsx)("h1",{children:"List of error products"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{onClick:function(){Object.keys(k).length>0&&function(){for(var e=0,t=Object.entries(k);e<t.length;e++){var n=Object(p.a)(t[e],2),r=(n[0],n[1]);if(!r.name||!r.sku)return!1;if(r.name.length>50||r.sku.length>50)return!1}return!0}()&&F(!0)},children:"Submit"}),Object(_.jsx)(C,{isModalVisible:E,handleOk:function(){F(!1)},changedProducts:k,colors:m})]}),Object(_.jsxs)("table",{children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"ID"}),Object(_.jsx)("th",{children:"Error Description"}),Object(_.jsx)("th",{children:"Product Image"}),Object(_.jsx)("th",{children:"Product Name"}),Object(_.jsx)("th",{children:"SKU"}),Object(_.jsx)("th",{children:"Color"})]})}),Object(_.jsx)("tbody",{children:n.map((function(e,t){if(B.minIndex<=t&&t<B.maxIndex)return""===e.image&&(e.image=q),Object(_.jsx)(I,{product:e,originProduct:o[t],colors:m,takeChangedProducts:M,handleChangeProduct:V,index:t},"product"+t)}))})]}),Object(_.jsx)(O.a,{pageSize:10,current:B.current,total:n.length,onChange:function(e){D({current:e,minIndex:10*(e-1),maxIndex:10*e})},style:{marginTop:"15px"}})]})}var F=function(){return Object(_.jsx)("div",{children:Object(_.jsx)(E,{})})};n(235);var L=function(){return Object(_.jsx)(o.a,{children:Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(i.c,{children:Object(_.jsx)(i.a,{exact:!0,path:"/list_products_shown/",component:F})})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,243)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(L,{})}),document.getElementById("root")),T()},32:function(e,t,n){e.exports={container:"home_container__293IA",containerItem:"home_containerItem__3r-q2",inputCorrect:"home_inputCorrect__2Jbe0",error:"home_error__2Fycz",formRow:"home_formRow__2LOL1",inputError:"home_inputError__3wTV6"}},61:function(e,t,n){e.exports={popupContainer:"popup_popupContainer__3Lyu_",image:"popup_image__33bXo",content:"popup_content__1Nsqw"}}},[[238,1,2]]]);
//# sourceMappingURL=main.b655967a.chunk.js.map