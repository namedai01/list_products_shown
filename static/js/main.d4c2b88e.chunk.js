(this["webpackJsonpteko-test"]=this["webpackJsonpteko-test"]||[]).push([[0],{152:function(e,t,n){},248:function(e,t,n){},251:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),o=n.n(a),s=(n(152),n(140)),i=n(14),u=n(146),d=n(45),j=n.n(d),l=n(58),b=n(47),h=n(54),p=n(33),O=n(255),m=n(133),x=n(67),f=n.n(x),v=n(21),g=n.n(v),k=n(60),_=n.n(k),C=n(6);function P(e){var t=e.isModalVisible,n=void 0!==t&&t,c=e.changedProducts,r=void 0===c?{}:c,a=e.colors,o=void 0===a?{}:a,s=e.handleOk;return Object(C.jsx)(f.a,{title:"Re-Uploaded Products",visible:n,onOk:s,onCancel:s,children:Object(C.jsx)("div",{className:_.a.popupContainer,children:Object.keys(r).map((function(e,t){return Object(C.jsxs)("div",{className:_.a.div121,children:[Object(C.jsx)("div",{className:_.a.image,children:Object(C.jsx)("img",{src:r[e].image,alt:"Failure"})}),Object(C.jsxs)("div",{className:_.a.content,children:[Object(C.jsx)("span",{style:{color:"black",fontWeight:"bold"},children:r[e].name}),Object(C.jsxs)("span",{children:["ID:"," ",Object(C.jsx)("span",{children:r[e].id})]}),Object(C.jsxs)("span",{children:["SKU:"," ",Object(C.jsx)("span",{style:{color:"red"},children:r[e].sku})]}),Object(C.jsxs)("span",{children:["Color:"," ",Object(C.jsx)("span",{children:o[r[e].color]})]})]})]},"popup"+t)}))})})}P.PropTypes={isModalVisible:g.a.bool.isRequired,changedProducts:g.a.object.isRequired,colors:g.a.object.isRequired,handleOk:g.a.func.isRequired};var y=n(32),I=n.n(y);function w(e){var t=e.product,n=void 0===t?{}:t,r=e.colors,a=void 0===r?{}:r,o=e.originProduct,s=void 0===o?{}:o,i=e.index,u=void 0===i?0:i,d=e.handleChangeProduct,j=e.takeChangedProducts,l=Object(c.useState)(!1),h=Object(p.a)(l,2),O=h[0],m=h[1],x=Object(c.useState)({}),f=Object(p.a)(x,2),v=f[0],g=f[1],k=Object(c.useState)({}),_=Object(p.a)(k,2),P=_[0],y=_[1],w=function(e){d(e.target.name,e.target.value||null,u)},N=function(e){var t=Object(b.a)({},e.target.name,e.target.value||null);g(function(e){var t={};return void 0!==e.name&&(e.name?e.name.length>50&&(t.name="Name have at most 50 characters"):t.name="Cannot be blank"),void 0!==e.sku&&(e.sku?e.sku.length>20&&(t.sku="Sku have at most 20 characters"):t.sku="Cannot be blank"),t}(t)),y(t),m(!0)};return Object(c.useEffect)((function(){O&&j(s,P)}),[v]),Object(C.jsxs)("tr",{className:I.a.containerItem,children:[Object(C.jsx)("td",{children:n.id}),Object(C.jsx)("td",{children:n.errorDescription}),Object(C.jsx)("td",{children:Object(C.jsx)("img",{src:n.image,alt:"Failure"})}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:I.a.formRow,children:[Object(C.jsx)("input",{type:"text",value:n.name,name:"name",onChange:w,onBlur:N,className:v.name?I.a.inputError:I.a.inputCorrect}),v.name&&Object(C.jsx)("span",{className:I.a.error,children:v.name})]})}),Object(C.jsx)("td",{style:{width:"10%"},children:Object(C.jsxs)("div",{className:I.a.formRow,children:[Object(C.jsx)("input",{type:"text",value:n.sku,name:"sku",onChange:w,onBlur:N,className:v.sku?I.a.inputError:I.a.inputCorrect}),v.sku&&Object(C.jsx)("span",{className:I.a.error,children:v.sku})]})}),Object(C.jsx)("td",{children:Object(C.jsxs)("select",{value:n.color||"",name:"color",style:{color:"black"},onChange:w,onBlur:N,children:[Object(C.jsx)("option",{value:""}),Object.keys(a).map((function(e,t){return Object(C.jsx)("option",{value:e,children:a[e]},"color"+t)}))]})})]})}w.PropTypes={product:g.a.object.isRequired,colors:g.a.object.isRequired,originProduct:g.a.object.isRequired,index:g.a.number.isRequired,handleChangeProduct:g.a.func.isRequired,takeChangeProducts:g.a.func.isRequired};n(230);var N=n(90),S=n.n(N),R=function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("https://60ae0d5e80a61f00173324bc.mockapi.io/products");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("https://60ae0d5e80a61f00173324bc.mockapi.io/colors");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=n.p+"static/media/default.e2239d94.jpeg";function F(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),o=Object(p.a)(a,2),s=o[0],i=o[1],d=Object(c.useState)({}),x=Object(p.a)(d,2),f=x[0],v=x[1],g=Object(c.useState)({}),k=Object(p.a)(g,2),_=k[0],y=k[1],N=Object(c.useState)(!1),S=Object(p.a)(N,2),F=S[0],B=S[1],D=Object(c.useState)({totalPage:0,current:1,minIndex:0,maxIndex:0}),L=Object(p.a)(D,2),T=L[0],M=L[1],V=function(e,t){var n,c,r=Object(h.a)(Object(h.a)({},_),Object(b.a)({},e.id,Object(h.a)(Object(h.a)(Object(h.a)({},e),_[e.id]),t)));n=e,c=r[e.id],n.name===c.name&&n.sku===c.sku&&n.color==c.color&&delete r[e.id],y(r)};Object(c.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return t=e.sent,r(t),i(Object(m.cloneDeep)(t)),M({totalPage:t.length/10,minIndex:0,maxIndex:10}),e.next=8,q();case 8:n=e.sent,c=n.reduce((function(e,t){return Object.assign(e,Object(b.a)({},t.id,t.name))}),{}),v(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var J=function(e,t,c){var a=Object(u.a)(n);a[c][e]=t,r(a)};return Object(C.jsxs)("div",{className:I.a.container,children:[Object(C.jsx)("h1",{children:"List of error products"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){Object.keys(_).length>0&&function(){for(var e=0,t=Object.entries(_);e<t.length;e++){var n=Object(p.a)(t[e],2),c=(n[0],n[1]);if(!c.name||!c.sku)return!1;if(c.name.length>50||c.sku.length>50)return!1}return!0}()&&B(!0)},children:"Submit"}),Object(C.jsx)(P,{isModalVisible:F,handleOk:function(){B(!1)},changedProducts:_,colors:f})]}),Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"ID"}),Object(C.jsx)("th",{children:"Error Description"}),Object(C.jsx)("th",{children:"Product Image"}),Object(C.jsx)("th",{children:"Product Name"}),Object(C.jsx)("th",{children:"SKU"}),Object(C.jsx)("th",{children:"Color"})]})}),Object(C.jsx)("tbody",{children:n.map((function(e,t){if(T.minIndex<=t&&t<T.maxIndex)return""===e.image&&(e.image=E),Object(C.jsx)(w,{product:e,originProduct:s[t],colors:f,takeChangedProducts:V,handleChangeProduct:J,index:t},"product"+t)}))})]}),Object(C.jsx)(O.a,{pageSize:10,current:T.current,total:n.length,onChange:function(e){M({current:e,minIndex:10*(e-1),maxIndex:10*e})},style:{marginTop:"40px",marginBottom:"40px"}})]})}var B=function(){return Object(C.jsx)("div",{children:Object(C.jsx)(F,{})})};n(248);var D=function(){return Object(C.jsx)(s.a,{children:Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(i.c,{children:Object(C.jsx)(i.a,{exact:!0,path:"/list_products_shown/",component:B})})})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(D,{})}),document.getElementById("root")),L()},32:function(e,t,n){e.exports={container:"home_container__293IA",containerItem:"home_containerItem__3r-q2",inputCorrect:"home_inputCorrect__2Jbe0",error:"home_error__2Fycz",formRow:"home_formRow__2LOL1",inputError:"home_inputError__3wTV6"}},60:function(e,t,n){e.exports={popupContainer:"popup_popupContainer__3Lyu_",image:"popup_image__33bXo",content:"popup_content__1Nsqw"}}},[[251,1,2]]]);
//# sourceMappingURL=main.d4c2b88e.chunk.js.map